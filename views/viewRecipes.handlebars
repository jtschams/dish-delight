<h1>{{user.name}}'s login screen page! Auth protected. Add content to views/viewRecipes.handlebars here!</h1>

<p>So here is the page that users will see after signing up or logging in (atm you stay logged in so anytime you come
    back to the page it will already signed in)</p>

<h2>Recipe Form</h2>


<form id="recipe-form">
    <label for="title">Name of Dish</label>
    <input type="text" id="title" name="title" required>

    <label for="description">Description of Dish</label>
    <textarea id="description" name="description" required></textarea>

    <label for="ingredients">List Ingredients</label>
    <textarea id="ingredients" name="ingredients" required></textarea>

    <label for="instructions">Instructions</label>
    <textarea id="instructions" name="instructions" required></textarea>

    <input type="file" id="input_img" onchange="fileChange()" accept="image/*">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <button type="submit">Create</button>

    <script>
        function fileChange() {
            var file = document.getElementById('input_img');
            var form = new FormData();
            form.append("image", file.files[0]);
            console.log(file.files);
            var url = "https://api.imgbb.com/1/upload?key=123b3628999f3acd81d822ab7e51db47";
            const config = {
                method: 'POST',
                headers: {
                    'Accept': 'application/json',
                    'Access-Control-Allow-Origin': '*',
                    'Connection': 'keep-alive',
                    'Content-Type': 'application/json',
                },
                body: form
            }


            fetch(url, config)
                .then(res => res.json())
                .then(data => console.log(data))
                .catch(err => console.log(err));
        }
    </script>
</form>

